!function t(e,n,o){function r(i,u){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!u&&c)return c(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[i]={exports:{}};e[i][0].call(s.exports,function(t){var n=e[i][1][t];return r(n?n:t)},s,s.exports,t,e,n,o)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var r=t("./controllers/DonationCtrl"),a=o(r),i=t("./controllers/CheckoutCtrl"),u=o(i),c=t("./services/DonationService"),l=o(c);angular.module("chancletagithubioApp",["ngResource","ngRoute","ngStorage","angularPayments"]).controller("DonationCtrl",a["default"]).controller("CheckoutCtrl",u["default"]).service("DonationService",l["default"]).config(["$routeProvider",function(t){t.when("/",{templateUrl:"views/donationForm.html",controller:"DonationCtrl",controllerAs:"donation"}).when("/checkout",{templateUrl:"views/checkoutForm.html",controller:"CheckoutCtrl",controllerAs:"checkout"}).otherwise({redirectTo:"/"})}]).constant("ConfigData",{url:"https://test.oppwa.com/v1/payments",authData:{authentication:{userId:"8a8294174b7ecb28014b9699220015cc",password:"sy6KJsT8",entityId:"8a8294174b7ecb28014b9699220015ca"}},paymentType:{paymentType:"DB"}})},{"./controllers/CheckoutCtrl":2,"./controllers/DonationCtrl":3,"./services/DonationService":5}],2:[function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function(){function t(e,n){o(this,t),e.donationData().isValid()||n.path("/"),this.donationService=e,this.paymentInfo={}}return t.$inject=["DonationService","$location"],r(t,[{key:"performCheckout",value:function(t){t.$valid||Materialize.toast("Please verify the fields and try again.",5e3,"error"),this.donationService.performPayment(this.paymentInfo)}}]),t}();n["default"]=a,e.exports=n["default"]},{}],3:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=t("../models/DonationModel"),u=o(i),c=function(){function t(e,n){r(this,t),this.donateData={},this.DonationService=n,this.location=e,this.currencyOptions=u["default"].currencyOptions,this.donateData.currency=this.currencyOptions[0].val}return t.$inject=["$location","DonationService"],a(t,[{key:"donate",value:function(t){if(!t.$valid)return void Materialize.toast("Please verify the fields and try again.",5e3,"error");var e=this.donateData;return this.currencyOptions.some(function(t){return e.currency==t.val})?isNaN(parseFloat(this.donateData.amount))||this.donateData.amount>100||this.donateData.amount<0?void Materialize.toast("Please type a valid amount, cannot be greater than 100 and lower than 0.",5e3,"error"):(this.DonationService.saveDonationData(this.donateData),void this.location.path("/checkout")):void Materialize.toast("Please select a valid currency.",5e3,"error")}}]),t}();n["default"]=c,e.exports=n["default"]},{"../models/DonationModel":4}],4:[function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function(){function t(){o(this,t),this.amount="",this.currency=""}return r(t,[{key:"isValid",value:function(){var e=this.currency;return t.currencyOptions.some(function(t){return e==t.val})?!(isNaN(parseFloat(this.amount))||this.amount>100||this.amount<0):!1}}],[{key:"currencyOptions",get:function(){return[{val:"EUR",label:"EUR"},{val:"USD",label:"USD"}]}}]),t}();n["default"]=a,e.exports=n["default"]},{}],5:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=t("../models/DonationModel"),u=o(i),c=function(){function t(e,n){r(this,t),this.resource=e(n.url),this.donationDataObject=new u["default"],this.configData=n}return t.$inject=["$resource","ConfigData"],a(t,[{key:"donationData",value:function(){return this.donationDataObject}},{key:"saveDonationData",value:function(t){this.donationDataObject.amount=t.amount,this.donationDataObject.currency=t.currency}},{key:"performPayment",value:function(t){t.card.expiryMonth=t.expiry.split("/")[0],t.card.expiryYear=t.expiry.split("/")[1],t=Object.assign(t,this.configData.authData),t=Object.assign(t,this.donationDataObject),t=Object.assign(t,this.configData.paymentType),this.resource.save({},t)}}]),t}();n["default"]=c,e.exports=n["default"]},{"../models/DonationModel":4}]},{},[1]);
//# sourceMappingURL=app.min.js.map
